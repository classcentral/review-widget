var cc_config={ENV:"dev",BASE_URL:"https://dev.classcentral.io"};!function(){"use strict";function e(e,n,t){"addEventListener"in window?e.addEventListener(n,t,!1):"attachEvent"in window&&e.attachEvent("on"+n,t)}function n(){var e,n=["moz","webkit","o","ms"];for(e=0;e<n.length&&!C;e+=1)C=window[n[e]+"RequestAnimationFrame"];C||o(" RequestAnimationFrame not supported")}function t(){var e="Host page";return window.top!==window.self&&(e=window.parentIFrame?window.parentIFrame.getId():"Nested host page"),e}function i(e){return k+"["+t()+"]"+e}function o(e){A.log&&"object"==typeof window.console&&console.log(i(e))}function r(e){"object"==typeof window.console&&console.warn(i(e))}function a(e){function n(){function e(){d(O),s(),A.resizedCallback(O)}a("Height"),a("Width"),u(e,O,"resetPage")}function t(e){var n=e.id;o(" Removing iFrame: "+n),e.parentNode.removeChild(e),A.closedCallback(n),o(" --")}function i(){var e=z.substr(E).split(":");return{iframe:document.getElementById(e[0]),id:e[0],height:e[1],width:e[2],type:e[3]}}function a(e){var n=Number(A["max"+e]),t=Number(A["min"+e]),i=e.toLowerCase(),r=Number(O[i]);if(t>n)throw new Error("Value for min"+e+" can not be greater than max"+e);o(" Checking "+i+" is in range "+t+"-"+n),t>r&&(r=t,o(" Set "+i+" to min value")),r>n&&(r=n,o(" Set "+i+" to max value")),O[i]=""+r}function f(){var n=e.origin,t=O.iframe.src.split("/").slice(0,3).join("/");if(A.checkOrigin&&(o(" Checking connection is from: "+t),""+n!="null"&&n!==t))throw new Error("Unexpected message received from: "+n+" for "+O.iframe.id+". Message was: "+e.data+". This error can be disabled by adding the checkOrigin: false option.");return!0}function m(){return k===(""+z).substr(0,E)}function g(){var e=O.type in{"true":1,"false":1};return e&&o(" Ignoring init message from meta parent page"),e}function p(e){return z.substr(z.indexOf(":")+x+e)}function w(e){o(" MessageCallback passed: {iframe: "+O.iframe.id+", message: "+e+"}"),A.messageCallback({iframe:O.iframe,message:JSON.parse(e)}),o(" --")}function h(){if(null===O.iframe)throw new Error("iFrame ("+O.id+") does not exist on "+I);return!0}function b(e){var n=e.getBoundingClientRect();return c(),{x:parseInt(n.left,10)+parseInt(F.x,10),y:parseInt(n.top,10)+parseInt(F.y,10)}}function v(e){function n(){F=a,C(),o(" --")}function t(){return{x:Number(O.width)+i.x,y:Number(O.height)+i.y}}var i=e?b(O.iframe):{x:0,y:0},a=t();o(" Reposition requested from iFrame (offset x:"+i.x+" y:"+i.y+")"),window.top!==window.self?window.parentIFrame?e?parentIFrame.scrollToOffset(a.x,a.y):parentIFrame.scrollTo(O.width,O.height):r(" Unable to scroll to requested position, window.parentIFrame not found"):n()}function C(){!1!==A.scrollCallback(F)&&s()}function M(e){function n(e){var n=b(e);o(" Moving to in page link (#"+t+") at x: "+n.x+" y: "+n.y),F={x:n.x,y:n.y},C(),o(" --")}var t=e.split("#")[1]||"",i=decodeURIComponent(t),r=document.getElementById(i)||document.getElementsByName(i)[0];window.top!==window.self?window.parentIFrame?parentIFrame.moveToAnchor(t):o(" In page link #"+t+" not found and window.parentIFrame not found"):r?n(r):o(" In page link #"+t+" not found")}function R(){switch(O.type){case"close":t(O.iframe),A.resizedCallback(O);break;case"message":w(p(6));break;case"scrollTo":v(!1);break;case"scrollToOffset":v(!0);break;case"inPageLink":M(p(9));break;case"reset":l(O);break;case"init":n(),A.initCallback(O.iframe);break;default:n()}}var z=e.data,O={};m()&&(o(" Received: "+z),O=i(),!g()&&h()&&f()&&(R(),y=!1))}function c(){null===F&&(F={x:void 0!==window.pageXOffset?window.pageXOffset:document.documentElement.scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop},o(" Get page position: "+F.x+","+F.y))}function s(){null!==F&&(window.scrollTo(F.x,F.y),o(" Set page position: "+F.x+","+F.y),F=null)}function l(e){function n(){d(e),f("reset","reset",e.iframe)}o(" Size reset requested by "+("init"===e.type?"host page":"iFrame")),c(),u(n,e,"init")}function d(e){function n(n){e.iframe.style[n]=e[n]+"px",o(" IFrame ("+e.iframe.id+") "+n+" set to "+e[n]+"px")}A.sizeHeight&&n("height"),A.sizeWidth&&n("width")}function u(e,n,t){t!==n.type&&C?(o(" Requesting animation frame"),C(e)):e()}function f(e,n,t){o("["+e+"] Sending msg to iframe ("+n+")"),t.contentWindow.postMessage(k+n,"*")}function m(){function n(){function e(e){1/0!==A[e]&&0!==A[e]&&(s.style[e]=A[e]+"px",o(" Set "+e+" = "+A[e]+"px"))}e("maxHeight"),e("minHeight"),e("maxWidth"),e("minWidth")}function t(e){return""===e&&(s.id=e="iFrameResizer"+b++,o(" Added missing iframe ID: "+e+" ("+s.src+")")),e}function i(){o(" IFrame scrolling "+(A.scrolling?"enabled":"disabled")+" for "+d),s.style.overflow=!1===A.scrolling?"hidden":"auto",s.scrolling=!1===A.scrolling?"no":"yes"}function r(){("number"==typeof A.bodyMargin||"0"===A.bodyMargin)&&(A.bodyMarginV1=A.bodyMargin,A.bodyMargin=""+A.bodyMargin+"px")}function a(){return d+":"+A.bodyMarginV1+":"+A.sizeWidth+":"+A.log+":"+A.interval+":"+A.enablePublicMethods+":"+A.autoResize+":"+A.bodyMargin+":"+A.heightCalculationMethod+":"+A.bodyBackground+":"+A.bodyPadding+":"+A.tolerance+":"+A.enableInPageLinks}function c(n){e(s,"load",function(){var e=y;f("iFrame.onload",n,s),!e&&A.heightCalculationMethod in M&&l({iframe:s,height:0,width:0,type:"init"})}),f("init",n,s)}var s=this,d=t(s.id);i(),n(),r(),c(a())}function g(e){if("object"!=typeof e)throw new TypeError("Options is not an object.")}function p(e){e=e||{},g(e);for(var n in R)R.hasOwnProperty(n)&&(A[n]=e.hasOwnProperty(n)?e[n]:R[n])}function w(){function e(e){if(!e.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==e.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+e.tagName+">.");m.call(e)}return function(n,t){switch(p(n),typeof t){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(t||"iframe"),e);break;case"object":e(t);break;default:throw new TypeError("Unexpected data type ("+typeof t+").")}}}function h(e){e.fn.iFrameResize=function(e){return p(e),this.filter("iframe").each(m).end()}}var b=0,y=!0,v="message",x=v.length,k="[iFrameSizer]",E=k.length,I="",F=null,C=window.requestAnimationFrame,M={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},A={},R={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,enableInPageLinks:!1,enablePublicMethods:!1,heightCalculationMethod:"offset",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,scrolling:!1,sizeHeight:!0,sizeWidth:!1,tolerance:0,closedCallback:function(){},initCallback:function(){},messageCallback:function(){},resizedCallback:function(){},scrollCallback:function(){return!0}};n(),e(window,"message",a),window.jQuery&&h(jQuery),"function"==typeof define&&define.amd?define([],w):"object"==typeof module&&"object"==typeof module.exports?module.exports=w():window.iFrameResize=w()}(),function(){function e(e){var n={"course-id":e.getAttribute("data-courseid"),"course-code":e.getAttribute("data-coursecode")};return n}function n(e){var n=document.createElement("iframe"),i=t(e);return n.setAttribute("src",i),n.setAttribute("width","100%"),n.setAttribute("height","0px"),n.setAttribute("scrolling","no"),n.setAttribute("frameborder","0"),n}function t(e){var n,t=e["course-id"],i=e["course-code"];return n=t?cc_config.BASE_URL+"/reviews/widget?course-id="+t:cc_config.BASE_URL+"/reviews/widget?course-code="+i}function i(){for(var t=document.getElementsByClassName("classcentral-review"),i=0;i<t.length;i++){var o=t[i],r=e(o),a=n(r);o.parentNode.replaceChild(a,o),iFrameResize({scrollCallback:function(){return!1}},a)}}i()}();